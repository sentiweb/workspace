<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Workspace helps to organize a set of projects sharing common config • workspace</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Workspace helps to organize a set of projects sharing common config">
<meta name="description" content="A workpace is a way to organize a set of R scripts in multiple subdirectories but allowing to share and load a common setup. Workspace package provides functions to find the root of the workspace, and load a workspace-wide configuration (shared accros the projects in the workspace directory) and provides functions to manage paths outside the project avoiding the need to use absolute path.">
<meta property="og:description" content="A workpace is a way to organize a set of R scripts in multiple subdirectories but allowing to share and load a common setup. Workspace package provides functions to find the root of the workspace, and load a workspace-wide configuration (shared accros the projects in the workspace directory) and provides functions to manage paths outside the project avoiding the need to use absolute path.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">workspace</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="workspace-package">Workspace package<a class="anchor" aria-label="anchor" href="#workspace-package"></a>
</h1></div>
<p>The workspace package provides a way to organize R projects when they share a common configuration (or init process).</p>
<p>The ‘workspace’ is a root directory containing subdirectories with R scripts (potentially on many sublevel directories).</p>
<p>This package allows scripts to be run in their own directory (i.e. as R working directory), allowing them to resolve relative paths from their location (more natural behaviour) and to access to the workspace directory and way to access location outside the workspace.</p>
<p>It shares some common features with other packages like</p>
<ul>
<li><a href="https://rprojroot.r-lib.org/" class="external-link">rprojroot</a></li>
<li><a href="https://here.r-lib.org/" class="external-link">here</a></li>
</ul>
<p>But has a slightly different approach</p>
<ul>
<li>The workspace root is identified with an .Rworkspace file (to promote a standard layout)</li>
<li>The .Rworkspace file can contain one or more files to loaded when the workspace is launched, allowing the project to be configured at the workspace level (complementary to site/user)</li>
</ul>
<p>It also provides paths management functions, to allow reference to locations outside the workspace avoiding to manipulate full path.</p>
<div class="section level2">
<h2 id="the-workspace">The workspace<a class="anchor" aria-label="anchor" href="#the-workspace"></a>
</h2>
<p>The workspace is a directory, in which R scripts are organized as you want in subdirectories (obviously if they are not, no need for it).</p>
<p>Use the workspace allows any script inside it to determine the path of the root of the workspace (and get files from files) and to run one or more common setup scripts automatically.</p>
<p>To create a workpace, just create a file named “.Rworkspace” at the root of the project, containing several subdirectories. It’s also possible to use the <code><a href="reference/init_workspace.html">init_workspace()</a></code> function to do this.</p>
<p>To use the setup feature, put the name of the script to be loaded on workspace launch as a line of “.Rworkspace” file (one script by line). Path of these scripts must be <strong>relative to workspace root directory</strong>.</p>
<p>For example, if a “setup.R” file is at the root of the workspace directory, just put in “.Rworkspace”</p>
<pre><code><span><span class="va">setup.R</span></span></code></pre>
<p>Now you can run a script in a subdirectory, to launch the workspace from this script use</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">workspace</span><span class="fu">::</span><span class="fu"><a href="reference/launch.html">launch</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The way the package run, the script doesnt need to know about how to find the root or what to load to configure the project because it’s not its responsability. It only has to tell the workspace to do the job.</p>
</div>
<div class="section level2">
<h2 id="path-functions">Path functions<a class="anchor" aria-label="anchor" href="#path-functions"></a>
</h2>
<p>The workspace package provides a way to handle external paths using a path builder.</p>
<p>There is a global path builder is available (accessible using <code><a href="reference/global_out_path.html">global_out_path()</a></code>) which is intended to handle the case when you want to refer to a common output directory (e.g. where all script output will be placed).</p>
<p>The principle is to allow scripts to refer to this external location but since the real location is only known when running, only relative paths have to be used in the scripts.</p>
<p>To use it, you have to define where this output location will be on the computer running the script, but to make it runnable in another computer (meaning often another location) it’s strongly recommended that you define it in a place not managed by a version control system (like git or subversion). For example, it can be defined in a user-specific <code>.Rprofile</code> or in a script loaded during workspace setup (but ignored by version control so each installation must provide it’s specific content).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Before the workspace package is loaded (in .Rprofile for example)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>workspace.outpath<span class="op">=</span><span class="st">"/my/output/path"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># After the package is loaded, the global out path has already been initialized</span></span>
<span><span class="co"># You have to use `set_root_out_path()`</span></span>
<span><span class="co"># For example in a script loaded by the workspace setup</span></span>
<span><span class="fu"><a href="reference/set_root_out_path.html">set_root_out_path</a></span><span class="op">(</span><span class="st">"/my/output/path"</span><span class="op">)</span></span></code></pre></div>
<p>Once the <code>workspace</code> package is loaded, you can use <code><a href="reference/my_path.html">my_path()</a></code> to get the path inside the output path</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/my_path.html">my_path</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># The current output path, -&gt; /my/output/path</span></span>
<span><span class="fu"><a href="reference/my_path.html">my_path</a></span><span class="op">(</span><span class="st">"myfile"</span><span class="op">)</span> <span class="co"># -&gt; /my/output/path/myfile</span></span></code></pre></div>
<p>To avoid repetition, it’s also possible to use suffix in the common output path</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="reference/init_path.html">init_path</a></span><span class="op">(</span><span class="st">"subprojet1"</span><span class="op">)</span> <span class="co"># Common output path is now /my/output/path/subproject1</span></span>
<span><span class="fu"><a href="reference/my_path.html">my_path</a></span><span class="op">(</span><span class="st">"myfile"</span><span class="op">)</span> <span class="co"># /my/output/path/subproject1/myfile</span></span>
<span></span>
<span><span class="fu"><a href="reference/init_path.html">init_path</a></span><span class="op">(</span><span class="st">"subprojet2"</span><span class="op">)</span> <span class="co"># Common output path is now /my/output/path/subproject2</span></span>
<span><span class="fu"><a href="reference/my_path.html">my_path</a></span><span class="op">(</span><span class="st">"myfile"</span><span class="op">)</span> <span class="co"># /my/output/path/subproject2/myfile</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing workspace</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Clément Turbelin <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Clément Turbelin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
